var radash=function(e){"use strict";const t=(e,t)=>e&&0!==(e.length??0)?e.reduce(t):null,r=(e,t,r=!1)=>{if(!e)return[];return e.slice().sort(!0===r?(e,r)=>t(r)-t(e):(e,r)=>t(e)-t(r))};function*n(e,t,r=1){for(let n=e;n<=t&&(yield n,!(n+r>t));n+=r);}const s=(e,t,r=1)=>Array.from(n(e,t,r)),i=(e,t)=>e?e.reduce(((e,r)=>{const[n,s]=e;return t(r)?[[...n,r],s]:[n,[...s,r]]}),[[],[]]):[[],[]],o=(e,t,r)=>{let n=r;for(let r=1;r<=e;r++)n=t(n,r);return n};class c extends Error{constructor(e){super(),this.errors=e}}const u=e=>new Promise((t=>setTimeout(t,e))),l=e=>async(...t)=>{try{return[null,await e(...t)]}catch(e){return[e,null]}},a=e=>!!e&&e.constructor===Symbol,f=e=>!!e&&e.constructor===Object,p=e=>!!(e&&e.constructor&&e.call&&e.apply),h=e=>{try{return Number(e)===e}catch{return!1}},d=e=>"[object Date]"===Object.prototype.toString.call(e),m=(e,t)=>{if(Object.is(e,t))return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.toString()===t.toString();if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);if(r.length!==n.length)return!1;for(let n=0;n<r.length;n++){if(!Reflect.has(t,r[n]))return!1;if(!m(e[r[n]],t[r[n]]))return!1}return!0},g=(e,t)=>Object.keys(e).reduce(((r,n)=>({...r,[t(n,e[n])]:e[n]})),{}),y=(e,t)=>e||t?e?t?Object.entries(e).reduce(((e,[r,n])=>({...e,[r]:f(n)?y(n,t[r]):t[r]})),{}):e:t:{},w=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),b=e=>{if(!e||0===e.length)return"";const t=e.toLowerCase();return t.substring(0,1).toUpperCase()+t.substring(1,t.length)},x=e=>{const t=e?.replace(/([A-Z])+/g,b)?.split(/(?=[A-Z])|[\.\-\s_]/).map((e=>e.toLowerCase()))??[];return 0===t.length?"":1===t.length?t[0]:t.reduce(((e,t)=>`${e}${t.charAt(0).toUpperCase()}${t.slice(1)}`))};return e.alphabetical=(e,t,r="asc")=>{if(!e)return[];return e.slice().sort("desc"===r?(e,r)=>`${t(r)}`.localeCompare(t(e)):(e,r)=>`${t(e)}`.localeCompare(t(r)))},e.boil=t,e.camal=x,e.camel=x,e.capitalize=b,e.chain=(...e)=>(...t)=>e.slice(1).reduce(((e,t)=>t(e)),e[0](...t)),e.clone=e=>Object.getOwnPropertyNames(e).reduce(((t,r)=>({...t,[r]:e[r]})),{}),e.cluster=(e,t=2)=>{const r=Math.ceil(e.length/t);return new Array(r).fill(null).map(((r,n)=>e.slice(n*t,n*t+t)))},e.compose=(...e)=>e.reverse().reduce(((e,t)=>t(e))),e.counting=(e,t)=>e.reduce(((e,r)=>{const n=t(r);return{...e,[n]:(e[n]??0)+1}}),{}),e.dash=e=>{const t=e?.replace(/([A-Z])+/g,b)?.split(/(?=[A-Z])|[\.\-\s_]/).map((e=>e.toLowerCase()))??[];return 0===t.length?"":1===t.length?t[0]:t.reduce(((e,t)=>`${e}-${t.toLowerCase()}`))},e.debounce=({delay:e},t)=>{let r=null;return(...n)=>{clearTimeout(r),r=setTimeout((()=>t(...n)),e)}},e.defer=async e=>{const t=[],[r,n]=await l(e)(((e,r)=>t.push({fn:e,rethrow:r?.rethrow??!1})));for(const{fn:e,rethrow:n}of t){const[t]=await l(e)(r);if(n)throw t}if(r)throw r;return n},e.diff=(e,t,r=(e=>e))=>{if(!e?.length&&!t?.length)return[];if(void 0===e?.length)return[...t];if(!t?.length)return[...e];const n=t.reduce(((e,t)=>({...e,[r(t)]:!0})),{});return e.filter((e=>!n[r(e)]))},e.draw=e=>{const t=e.length;if(0===t)return null;return e[w(0,t-1)]},e.first=(e,t)=>e?.length>0?e[0]:t,e.flat=e=>e.reduce(((e,t)=>[...e,...t]),[]),e.fork=i,e.get=(e,t,r=null)=>{if(p(t))try{return t(e)??r}catch{return r}const n=t.split(/[\.\[\]]/g);let s=e;for(const e of n){if(null===s)return r;if(void 0===s)return r;""!==e.trim()&&(s=s[e])}return void 0===s?r:s},e.group=(e,t)=>e.reduce(((e,r)=>{const n=t(r),s=e[n]??[];return{...e,[n]:[...s,r]}}),{}),e.intersects=(e,t,r)=>{if(!e||!t)return!1;const n=r??(e=>e),s=t.reduce(((e,t)=>({...e,[n(t)]:!0})),{});return e.some((e=>s[n(e)]))},e.invert=e=>{if(!e)return{};return Object.keys(e).reduce(((t,r)=>({...t,[e[r]]:r})),{})},e.isArray=e=>!!e&&e.constructor===Array,e.isDate=d,e.isEmpty=e=>{if(!0===e||!1===e)return!0;if(null==e)return!0;if(h(e))return 0===e;if(d(e))return isNaN(e.getTime());if(p(e))return!1;if(a(e))return!1;const t=e.length;if(h(t))return 0===t;const r=e.size;if(h(r))return 0===r;return 0===Object.keys(e).length},e.isEqual=m,e.isFloat=e=>h(e)&&e%1!=0,e.isFunction=p,e.isInt=e=>h(e)&&e%1==0,e.isNumber=h,e.isObject=f,e.isString=e=>"string"==typeof e||e instanceof String,e.isSymbol=a,e.iterate=o,e.last=(e,t)=>e?.length>0?e[e.length-1]:t,e.list=s,e.listify=(e,t)=>{if(!e)return[];const r=Object.entries(e);return 0===r.length?[]:r.reduce(((e,r)=>[...e,t(r[0],r[1])]),[])},e.lowerize=e=>g(e,(e=>e.toLowerCase())),e.map=async(e,t)=>{if(!e)return[];let r=[],n=0;for(const s of e){const e=await t(s,n++);r.push(e)}return r},e.mapEntries=(e,t)=>e?Object.entries(e).reduce(((e,[r,n])=>{const[s,i]=t(r,n);return{...e,[s]:i}}),{}):{},e.mapKeys=g,e.mapValues=(e,t)=>Object.keys(e).reduce(((r,n)=>({...r,[n]:t(e[n],n)})),{}),e.max=(e,r)=>{const n=r||(e=>e);return t(e,((e,t)=>n(e)>n(t)?e:t))},e.memo=(e,{key:t=null,ttl:r=300}={})=>((e,t,r,n)=>function(...s){const i=r?r(...s):JSON.stringify({args:s}),o=e[i];if(void 0!==o&&o.exp>(new Date).getTime())return o.value;const c=t(...s);return e[i]={exp:(new Date).getTime()+n,value:c},c})({},e,t,r),e.merge=(e,t,r)=>t||e?t?e?r?e.reduce(((e,n)=>{const s=t.find((e=>r(n)===r(e)));return s?[...e,s]:[...e,n]}),[]):e:[]:e:[],e.min=(e,r)=>{const n=r||(e=>e);return t(e,((e,t)=>n(e)<n(t)?e:t))},e.objectify=(e,t,r=(e=>e))=>e.reduce(((e,n)=>({...e,[t(n)]:r(n)})),{}),e.omit=(e,t)=>e?t&&0!==t.length?t.reduce(((e,t)=>(delete e[t],e)),{...e}):e:{},e.parallel=async(e,t,n)=>{const o=t.map(((e,t)=>({index:t,item:e}))),u=async e=>{const t=[];for(;;){const r=o.pop();if(!r)return e(t);const[s,i]=await l(n)(r.item);t.push({error:s,result:i,index:r.index})}},a=s(1,e).map((()=>new Promise(u))),f=await Promise.all(a),[p,h]=i(r(f.flat(),(e=>e.index)),(e=>!!e.error));if(p.length>0)throw new c(p.map((e=>e.error)));return h.map((e=>e.result))},e.partial=(e,...t)=>(...r)=>e(...t,...r),e.partob=(e,t)=>r=>e({...t,...r}),e.pascal=e=>{const t=e?.split(/[\.\-\s_]/).map((e=>e.toLowerCase()))??[];return 0===t.length?"":t.map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("")},e.pick=(e,t)=>e?t.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{}):{},e.proxied=e=>new Proxy({},{get:(t,r)=>e(r)}),e.random=w,e.range=n,e.reduce=async(e,t,r)=>{const n=void 0!==r;if(!n&&e?.length<1)throw new Error("Cannot reduce empty array with no init value");const s=n?e:e.slice(1);let i=n?r:e[0];for(const e of s)i=await t(i,e);return i},e.replace=(e,t,r)=>{if(!e)return[];if(!t)return[...e];for(let n=0;n<e.length;n++){if(r(e[n],n))return[...e.slice(0,n),t,...e.slice(n+1,e.length)]}return[...e]},e.replaceOrAppend=(e,t,r)=>{if(!e&&!t)return[];if(!t)return[...e];if(!e)return[t];for(let n=0;n<e.length;n++){if(r(e[n],n))return[...e.slice(0,n),t,...e.slice(n+1,e.length)]}return[...e,t]},e.retry=async(e,t)=>{const r=e?.times??3,s=e?.delay,i=e?.backoff??null;for(const e of n(1,r)){const[n,o]=await l(t)((e=>{throw{_exited:e}}));if(!n)return o;if(n._exited)throw n._exited;if(e===r)throw n;s&&await u(s),i&&await u(i(e))}},e.select=(e,t,r)=>e.reduce(((e,n)=>r(n)?[...e,t(n)]:e),[]),e.series=(...e)=>{const{itemsByValue:t,itemsByIndex:r}=e.reduce(((e,t,r)=>({itemsByValue:{...e.itemsByValue,[t]:r},itemsByIndex:{...e.itemsByIndex,[r]:t}})),{itemsByValue:{},itemsByIndex:{}});return{min:(e,r)=>t[e]<t[r]?e:r,max:(e,r)=>t[e]>t[r]?e:r,first:()=>r[0],last:()=>r[e.length-1],next:(e,n)=>r[t[e]+1]??n,previous:(e,n)=>r[t[e]-1]??n}},e.shake=(e,t=(e=>void 0===e))=>{if(!e)return{};return Object.keys(e).reduce(((r,n)=>t(e[n])?r:{...r,[n]:e[n]}),{})},e.shift=function(e,t){if(0===e.length)return e;const r=t%e.length;return 0===r?e:[...e.slice(-r,e.length),...e.slice(0,-r)]},e.shuffle=e=>e.map((e=>({rand:Math.random(),value:e}))).sort(((e,t)=>e.rand-t.rand)).map((e=>e.value)),e.sift=e=>e?.filter((e=>!!e))??[],e.sleep=u,e.snake=e=>{const t=e?.replace(/([A-Z])+/g,b).split(/(?=[A-Z])|[\.\-\s_]/).map((e=>e.toLowerCase()))??[];return 0===t.length?"":1===t.length?t[0]:t.reduce(((e,t)=>`${e}_${t.toLowerCase()}`))},e.sort=r,e.sum=(e,t)=>(e||[]).reduce(((e,r)=>e+(t?t(r):r)),0),e.template=(e,t,r=/\{\{(.+?)\}\}/g)=>Array.from(e.matchAll(r)).reduce(((e,r)=>e.replace(r[0],t[r[1]])),e),e.throttle=({interval:e},t)=>{let r=!0;return(...n)=>{r&&(t(...n),r=!1,setTimeout((()=>{r=!0}),e))}},e.toFloat=(e,t)=>{const r=void 0===t?0:t;if(null==e)return r;const n=parseFloat(e);return isNaN(n)?r:n},e.toInt=(e,t)=>{const r=void 0===t?0:t;if(null==e)return r;const n=parseInt(e);return isNaN(n)?r:n},e.try=l,e.tryit=l,e.uid=(e,t="")=>{const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"+t;return o(e,(e=>e+r.charAt(w(0,r.length-1))),"")},e.unique=(e,t)=>{const r=e.reduce(((e,r)=>{const n=t?t(r):r;return e[n]?e:{...e,[n]:r}}),{});return Object.values(r)},e.upperize=e=>g(e,(e=>e.toUpperCase())),e.zip=y,e}({});
